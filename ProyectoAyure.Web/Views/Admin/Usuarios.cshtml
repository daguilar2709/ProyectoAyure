@using ProyectoAyure.Data.ViewModels

@model List<UsuarioViewModel>

@{
    ViewData["Title"] = "Usuario";
    Layout = "~/Views/Shared/_layout.cshtml";
    ViewBag.Title = "Ayure - Usuarios";
}

<link rel="stylesheet" type="text/css" href="@Url.Content("../css/nice-select.css?version=")@DateTime.Now.ToString("ddMMyyyyhhmmss")">

<script src="~/js/jquery-3.6.0.min.js"></script>
<script src="~/js/jquery-ui.js"></script>
<link rel="stylesheet" type="text/css" href="@Url.Content("../css/bootstrap-table.css?version=")@DateTime.Now.ToString("ddMMyyyyhhmmss")">
<script type="text/javascript" src="@Url.Content("../js/jquery.nice-select.js?version=")@DateTime.Now.ToString("ddMMyyyyhhmmss")"></script>
<script type="text/javascript" src="@Url.Content("../js/bootstrap-table.js?version=")@DateTime.Now.ToString("ddMMyyyyhhmmss")"></script>
<script type="text/javascript" src="@Url.Content("../js/bootstrap-table-es-Es.js")"></script>


<div class="container" style="width:90%; margin-left:190px;">
    <div class="row">
        <h4 style="padding:10px 30px;">@ViewData["Title"]</h4>
        <hr style="width:85%; margin-left:10px;"/>
    </div>
    <div class="row" >
        <form method="post" id="frmUsuario">
            <div class="row" style="align-content:end;">
                <label style="width:35px;">Id:</label>
                @Html.TextBox("TxtIdUsuario", null, new { @id = "TxtIdUsuario", @class = "form-control", @placeholder = "", @style="float: left; width: 50px; margin-top:-5px;", @disabled="disabled" ,@autocomplete = "off", @maxlength = "70"})
                <label style="width:75px;">Nombre:</label>
                @Html.TextBox("txtNombre", null, new { @id = "txtNombre", @class = "form-control", @placeholder = "", @style="float: left; width: 350px; margin: -5px 0px 0px 10px;" ,@autocomplete = "off", @maxlength = "100", @data_validation = "required", @data_validation_error_msg_required = "" })
            </div>
            <div class="row" style="align-content:center; padding-top:1em;">
                <label style="width:150px;">Apeliido Paterno:</label>
                @Html.TextBox("txtApellidoPat", null, new { @id = "txtApellidoPat", @class = "form-control", @placeholder = "", @style="float: left; width: 200px; margin-top:-5px;" ,@autocomplete = "off", @maxlength = "100", @data_validation = "required", @data_validation_error_msg_required = "" })
                <label style="float: left; width:160px; margin-left:10px;">Apellido Materno:</label>
                @Html.TextBox("txtApellidoMat", null, new { @id = "txtApellidoMat", @class = "form-control", @placeholder = "", @style="float: left; width: 200px; margin-top:-5px;" ,@autocomplete = "off", @maxlength = "100", @data_validation = "required", @data_validation_error_msg_required = "" })
            </div>
            <div class="row" style="align-content: center; padding-top: 1em;">
                <label style="width:100px;">Direccion:</label>
                @Html.TextBox("txtDireccion", null, new { @id = "txtDireccion", @class = "form-control", @placeholder = "", @style="float: left; width: 350px; margin-top:-5px;" ,@autocomplete = "off", @maxlength = "100", @data_validation = "required", @data_validation_error_msg_required = "" })
                <label style="width:65px; margin-top:7px;">Perfil:</label>
                @Html.DropDownList("lstPerfiles", new SelectList(Enumerable.Empty<SelectListItem>()), "", new { @class = "form-control", @style="float:left; width:350px;", @placeholder = "", @autocomplete = "off", @data_validation = "required", @data_validation_error_msg_required = "" })
            </div>
            <div class="row" style="align-content: center; padding-top: 1em;">
                <label class="" style="float: left;width:160px; margin-left:10px;"> Codigo Postal:</label>
                @Html.TextBox("txtCodigoPostal", null, new { @id = "txtCodigoPostal", @class = "form-control", @placeholder = "", @style="float: left; width: 100px; margin-top:-5px;" ,@autocomplete = "off", @maxlength = "6", @data_validation = "required", @data_validation_error_msg_required = "" })
                <label style="width:100px;">Telefono:</label>
                @Html.TextBox("TxtTelefono", null, new { @id = "TxtTelefono", @class = "form-control", @placeholder = "", @style="float: left; width: 150px; margin-top:-5px;" ,@autocomplete = "off", @maxlength = "10", @data_validation = "required", @data_validation_error_msg_required = "" })
                <label class="" style="float: left; width:160px; margin-left:10px;"> Telefono 2 (Opcional):</label>
                @Html.TextBox("TxtTelefonoOpcional", null, new { @id = "TxtTelefonoOpcional", @class = "form-control", @placeholder = "", @style="float: left; width: 200px; margin-top:-5px;" ,@autocomplete = "off", @maxlength = "10"})
            </div>
            <div class="row" style="align-content:center; padding-top:1em;">
                
            </div>
            <div class="row" style="align-content:center; margin-left:25px; padding-top:1em;">
                <button id="btnGuardar" class="btn btn-primary" style="width:125px;">Guardar</button>
                <button id="btnCancelar" class="btn btn-danger" style="float:left; width:125px; margin-left:25px;">Cancelar</button>
            </div>
        </form>
    </div>
    <div class="row" style="height:25px;">&nbsp;</div>
        <table class="table table-striped table-hover" style="overflow:inherit !important; width:800px; " data-pagination="true" id="tbUsuarios">
            <thead>
                <tr style="background:#9B9A9A;">
                    <th data-field="Id" data-valign="middle" style="width:50px;font-size:12px;">Id</th>
                    <th data-field="Nombre" data-valign="middle" style="width:150px;font-size:12px;">Nombre</th>
                    <th data-field="Direccion" data-valign="middle" style="width:150px;font-size:12px;">Direccion</th>
                    <th data-field="nombrePerfil" data-valign="middle" style="width:100px;font-size:12px;">Perfil</th>
                    <th data-field="CodigoPostal" data-valign="middle" style="width:100px;font-size:12px;">Codigo Postal</th>
                    <th data-field="Telefono1" data-valign="middle" style="width:75px;font-size:12px;">Telefono</th>
                    <th data-field="Telefono2" data-valign="middle" style="width:120px;font-size:12px;">Telefono Opcional</th>
                    <th data-field="FechaCreacion" data-valign="middle" style="width:75px;font-size:12px;">Fecha de Creacion</th>
                    <th data-field="FechaModificacion" data-valign="middle" style="width:75px;font-size:12px;"> Ultimo cambio</th>
                    <th data-field="Activo" data-valign="middle" style="width:50px; text-align:center;font-size:12px;">Activo</th>
                    <th data-field="Acciones" data-valign="middle" style="width:200px; text-align:center;font-size:12px;">Acciones</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                var NombreCompleto = @item.Nombre.Trim() + ' ' + @item.ApellidoPaterno.Trim() + ' ' + @item.ApellidoMaterno.Trim();
                <tr>
                        <td style="text-align:center;">
                            <label>@item.Id</label>
                        </td>
                        <td>
                            <label style="width:200px;font-size:12px;">@NombreCompleto</label>
                        </td>
                        <td>
                            <label style="width:150px;font-size:12px;">@item.Direccion</label>
                        </td>
                        <td>
                            <label style="width:100px;font-size:12px;">@item.nombrePerfil</label>
                        </td>
                        <td>
                            <label style="width:100px;font-size:12px;">@item.CodigoPostal</label>
                        </td>
                        <td>
                            <label style="width:75px;font-size:12px;">@item.Telefono1</label>
                        </td>
                        <td>
                            <label style="width:120px;font-size:12px;">@item.Telefono2</label>
                        </td>
                        <td>
                            <label style="width:130px; font-size:12px;">@item.FechaCreacion</label>
                        </td>
                        <td>
                            <label style="width:130px; font-size:12px;">@item.FechaModificacion</label>
                        </td>
                        <td>
                            @if(@item.Activo == true){
                                <input type="checkbox" id="chkUsuarioActivo" disabled="disabled" name="chkUsuarioActivo" checked="checked" />
                            }
                            else
                            {
                                <input type="checkbox" id="chkUsuarioActivo" disabled="disabled" name="chkUsuarioActivo" />
                            }
                        </td>
                        <td style="width:200px;">
                            <button id="btnEditarUsuario" class="btn btn-primary" style="width:60px; font-size:10px;">Editar</button>
                            <button id="btnEliminarUsuario" class="btn btn-danger" style="width:75px; font-size:10px;">Eliminar</button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
</div>


<script src="@Url.Content("../js/Admin/Usuario.js?=")@DateTime.Now.ToString(" ddMMyyHHmmss")"></script>